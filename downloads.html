<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>chancydf.com - Royalty Free Tracks</title>
  <style>
    @font-face{font-family: 'Pixel'; src: local('Courier New');}
    :root{
      --bg:#d7ecff;
      --panel:#e9f5ff;
      --accent:#0096ff;
      --text:#111;
      --shadow: rgba(0,0,0,.25);
    }
    html,body{margin:0;min-height:100%;font-family:Pixel, 'Arial', sans-serif;color:var(--text);background:linear-gradient(180deg,var(--bg),#ffffff) fixed;background-repeat:no-repeat;background-attachment:fixed;}
    body{display:flex;flex-direction:column;min-height:100vh;}
    .topbar{width:100%;background:#fff;border-bottom:4px solid #000;padding:10px;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 0 var(--shadow);}
    .topbar img{max-width:240px;height:auto;}
    .wrap{flex:1;width:95%;max-width:980px;margin:20px auto;padding:18px;border:4px solid #000;background:var(--panel);box-shadow:8px 8px 0 var(--shadow);}
    header{display:flex;flex-direction:column;align-items:center;text-align:center;gap:10px}
    header h1{margin:0;font-size:26px;letter-spacing:1px}
    .controls{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;align-items:center}
    .controls select,.controls button{background:#fff;border:2px solid #000;padding:6px 10px;cursor:pointer}
    .search{border:2px solid #000;padding:6px;width:180px;max-width:70vw;}
    .tracks{margin-top:18px;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}
    .card{display:flex;flex-direction:column;gap:10px;align-items:center;padding:10px;border:2px solid #000;background:linear-gradient(180deg,#fff,#f3faff);}
    .logo{width:100%;aspect-ratio:1175/447;border:2px dotted #000;padding:4px;display:flex;align-items:center;justify-content:center;background:#fff;overflow:hidden;}
    .logo img{width:100%;height:auto;display:block}
    .meta{width:100%}
    .meta h3{margin:4px 0;font-size:16px;text-align:center}
    .meta p{margin:2px 0;font-size:13px;text-align:center}
    .actions{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:6px}
    .btn{display:inline-block;padding:6px 10px;border:2px solid #000;background:linear-gradient(180deg,#fff,#e0f2ff);text-decoration:none;color:var(--text);cursor:pointer;border-radius:4px}
    .btn:active{transform:translateY(1px)}
    audio{width:90%;max-width:350px;border:2px solid #000;border-radius:6px;background:#fff}
    .retro{background-image:repeating-linear-gradient(90deg, rgba(0,0,0,0.02) 0 1px, transparent 1px 10px);padding:6px}
    @media (max-width:600px){
      header h1{font-size:22px;}
      .controls{flex-direction:column;}
      .wrap{padding:10px;}
      .card{padding:8px;}
    }
  </style>
</head>
<body>
  <div class="topbar">
    <img src="/graphics/chancydfcomlogo" alt="chancydf.com logo" />
  </div>
  <div class="wrap retro">
    <header>
      <h1>Royalty-Free Tracks</h1>
      <div class="controls">
        <input class="search" id="q" placeholder="search title or file name" />
        <label for="sort">Sort:</label>
        <select id="sort">
          <option value="date">Date Published</option>
          <option value="title">Title</option>
          <option value="length">Length</option>
          <option value="volume">Volume</option>
        </select>
        <button id="toggleDir">Asc</button>
      </div>
    </header>

    <div id="tracks" class="tracks"></div>
  </div>

  <script>
    const ASSET_BASE = {
      logos: 'track names/',
      audios: 'audios/'
    };

    const TRACKS = [
      {file:'puzzlingproblem', title:'Puzzling Problem', length:'1:06', volume:'Vol. 1', date:'May 8, 2024', youtube:'https://youtu.be/G1lb2BqG5hI?si=RPFAJgYKPikS4gWs'},
      {file:'waitwhat', title:'Wait, What?', length:'1:00', volume:'Vol. 1', date:'May 8, 2024', youtube:'https://youtu.be/fIFiI2SFmBI?si=kCIsC4hUxVsw0Ujw'},
      {file:'notsosneaky', title:'Not-So-Sneaky', length:'1:21', volume:'Vol. 1', date:'May 8, 2024', youtube:'https://youtu.be/rtRcsLS2ilc?si=RJCWx-AfCOoBew17'},
      {file:'more', title:'More', length:'1:17', volume:'Vol. 1', date:'June 22, 2024', youtube:'https://youtu.be/WwvKcf9gMrM?si=FXdeT9ZMYyUvPQvz'},
      {file:'eekitsdark', title:"Eek! It's Dark!", length:'1:05', volume:'Vol. 1', date:'July 1, 2024', youtube:'https://youtu.be/DHciaWn-QaA?si=0taS8WDhpb5UF2kR'},
      {file:'anotherdayanothertry', title:'Another Day, Another Try', length:'1:08', volume:'Vol. 1', date:'July 20, 2024', youtube:'https://youtu.be/1zT-0-texAw?si=_SfQnQuLi3YHqkl2'},
      {file:'feelit', title:'Feel It.', length:'1:24', volume:'Vol. 1', date:'July 31, 2024', youtube:'https://youtu.be/kAR2Kz6wU4A?si=zmxF1ihDEYCZDOSW'},
      {file:'groovysuspense', title:'Groovy Suspense', length:'1:44', volume:'Vol. 2', date:'February 27, 2025', youtube:'https://youtu.be/-r_qTER3X2A?si=CctqU1pPwym2YGcO'},
      {file:'wornout', title:'Worn Out', length:'1:26', volume:'Vol. 2', date:'March 13, 2025', youtube:'https://youtu.be/ZQirGnJEnPM?si=Y2qTlC_bmJtvQ7ct'},
      {file:'bitmuch', title:'Bit Much?', length:'1:30', volume:'Vol. 2', date:'March 28, 2025', youtube:'https://youtu.be/zpVqkuFCA3o?si=qIYZ7OCZCdB5KmZH'},
      {file:'somethingoranother', title:'Something or Another...', length:'2:05', volume:'Vol. 2', date:'June 18, 2025', youtube:'https://youtu.be/QGKX5mmZz_c?si=tamz5TiEwGZra4uk'},
      {file:'thirdtimesthecharm', title:"Third Time's the Charm!", length:'1:56', volume:'Vol. 2', date:'June 18, 2025', youtube:'https://youtu.be/rFO4n7d1UP8?si=EH2kfeYJLXdT5x6X'},
      {file:'landshanty', title:'Land Shanty', length:'2:11', volume:'Vol. 3', date:'August 25, 2025', youtube:'https://youtu.be/Ktid7umoGVg?si=IW_VO7Udh-KXivV_'},
      {file:'sneakysuspense', title:'Sneaky Suspense', length:'2:04', volume:'Vol. 3', date:'September 8, 2025', youtube:'https://youtu.be/Ktid7umoGVg?si=o6IOz_kMUz93cNPL'},
      {file:'theoreticallyhypothetical', title:'Theoretically Hypothetical', length:'2:01', volume:'Vol. 3', date:'September 16, 2025', youtube:'https://youtu.be/V1c70lQbhCs?si=Ax1jYC60-qhei_3L'},
      {file:'walkingtonowhere', title:'Walking to Nowhere', length:'1:55', volume:'Vol. 3', date:'September 24, 2025', youtube:'https://youtu.be/1XrUI8iLEic?si=Sct1fajtCnRggmo8'},
      {file:'funkylines', title:'Funky Lines', length:'2:01', volume:'Vol. 3', date:'October 9, 2025', youtube:'https://youtu.be/EKyUOPP8JDY?si=8uByivhFLvQx0LwL'}
    ];

    function parseDate(s){return new Date(s);}
    function lengthToSeconds(len){const parts=len.split(':').map(Number);return parts[0]*60 + (parts[1]||0)}

    let sortKey='date';
    let ascending=true;

    const tracksRoot=document.getElementById('tracks');
    const sortSelect=document.getElementById('sort');
    const dirBtn=document.getElementById('toggleDir');
    const q=document.getElementById('q');

    function render(list){
      tracksRoot.innerHTML='';
      if(!list.length){tracksRoot.innerHTML='<div style="grid-column:1/-1;padding:12px;border:2px dashed #000;background:#fff">No results</div>';return}
      for(const t of list){
        const card=document.createElement('div');card.className='card';
        const logo=document.createElement('a');logo.className='logo';logo.href=t.youtube;logo.target='_blank';logo.rel='noopener';
        const img=document.createElement('img');img.alt=t.file;img.src=ASSET_BASE.logos+t.file+'.png';
        img.onerror=()=>{img.src='data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="1175" height="447"><rect width="100%" height="100%" fill="#fff" stroke="#000"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Courier" font-size="20">${t.file}</text></svg>`)}
        logo.appendChild(img);

        const meta=document.createElement('div');meta.className='meta';
        const h3=document.createElement('h3');h3.textContent=t.title;meta.appendChild(h3);
        const p1=document.createElement('p');p1.innerHTML=`<strong>File:</strong> ${t.file}`;
        const p2=document.createElement('p');p2.innerHTML=`<strong>Length:</strong> ${t.length} &nbsp; <strong>Volume:</strong> ${t.volume}`;
        const p3=document.createElement('p');p3.innerHTML=`<strong>Date Published:</strong> ${t.date}`;
        meta.appendChild(p1);meta.appendChild(p2);meta.appendChild(p3);

        const actions=document.createElement('div');actions.className='actions';
        const audio=document.createElement('audio');audio.controls=true;audio.src=ASSET_BASE.audios+t.file+'.mp3';actions.appendChild(audio);
        const dl=document.createElement('a');dl.className='btn';dl.href=ASSET_BASE.audios+t.file+'.mp3';dl.setAttribute('download',t.file+'.mp3');dl.textContent='Download (MP3)';actions.appendChild(dl);

        card.appendChild(logo);card.appendChild(meta);card.appendChild(actions);
        tracksRoot.appendChild(card);
      }
    }

    function getFiltered(){
      const term=q.value.trim().toLowerCase();
      return TRACKS.filter(t=>!term||t.title.toLowerCase().includes(term)||t.file.toLowerCase().includes(term));
    }

    function sortList(list){
      const sorted=list.slice();
      sorted.sort((a,b)=>{
        let A,B;
        if(sortKey==='date'){A=parseDate(a.date);B=parseDate(b.date);}else if(sortKey==='title'){A=a.title.toLowerCase();B=b.title.toLowerCase();}else if(sortKey==='length'){A=lengthToSeconds(a.length);B=lengthToSeconds(b.length);}else if(sortKey==='volume'){A=a.volume.toLowerCase();B=b.volume.toLowerCase();}
        if(A<B) return ascending?-1:1;
        if(A>B) return ascending?1:-1;
        return 0;
      });
      return sorted;
    }

    function refresh(){
      let list=getFiltered();
      list=sortList(list);
      render(list);
    }

    sortSelect.value='date';
    dirBtn.textContent=ascending?'Asc':'Desc';

    sortSelect.addEventListener('change',()=>{sortKey=sortSelect.value;refresh()});
    dirBtn.addEventListener('click',()=>{ascending=!ascending;dirBtn.textContent=ascending?'Asc':'Desc';refresh()});
    q.addEventListener('input',()=>{refresh()});

    document.addEventListener('keydown',(e)=>{if(e.key==='g'&&!e.metaKey&&!e.ctrlKey){e.preventDefault();q.focus();}});

    refresh();
  </script>
</body>
</html>
